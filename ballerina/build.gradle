import org.apache.tools.ant.taskdefs.condition.Os

plugins {
    id 'java'
}

group = 'org.example'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
}

tasks.register('localBuild') {
    doLast {
        exec {
            if (Os.isFamily(Os.FAMILY_WINDOWS)) {
                commandLine 'cmd', "/c", "bal pack"
            } else {
                commandLine 'sh', "-c", "bal build"
            }
        }
        println("Successfully pushed the MI Tools package to the local.")
    }
}

build.dependsOn localBuild
localBuild.dependsOn(":mi-native:build")
